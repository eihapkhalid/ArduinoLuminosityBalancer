@model LdrSensorViewModel

<form asp-action="Send" method="post">
    <div id="data-display">
        <h2>قراءات الإضاءة الحالية</h2>
        @foreach (var reading in Model.LightReadings)
        {
            <p>@reading</p>
        }
    </div>
    <div id="control-panel">
        <h2>لوحة التحكم</h2>
        <input type="text" name="command" placeholder="أدخل الأمر هنا">
        <button type="submit">إرسال</button>
        <div id="status"></div>
    </div>
</form>




<style>
    body {
        font-family: Arial, sans-serif;
        text-align: center;
    }

    #data-display, #control-panel {
        margin: 20px;
        padding: 15px;
        border: 1px solid #ddd;
        border-radius: 5px;
    }

    button {
        margin-top: 10px;
    }


</style>

<<script>
     function refreshData() {
         fetch('/LdrSensor/GetData') // استخدم مسار API الصحيح لجلب البيانات
             .then(response => response.json())
             .then(data => {
                 var dataDisplay = document.getElementById('data-display');
                 dataDisplay.innerHTML = '<h2>قراءات الإضاءة الحالية</h2>';
                 data.forEach(reading => {
                     dataDisplay.innerHTML += `<p>${reading}</p>`;
                 });
             });
     }

     setInterval(refreshData, 10000); // تحديث البيانات كل 10 ثواني

         // الكود الخاص بإرسال البيانات (sendData)
</script>